{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { AcercaDe } from 'src/app/entidades/acercaDe';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/servicios/acerca-de.service\";\nimport * as i2 from \"src/app/servicios/login.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\n\nfunction AcercaDeComponent_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function AcercaDeComponent_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.mostrarDatosActuales();\n    });\n    i0.ɵɵelement(1, \"i\", 23);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AcercaDeComponent_div_24_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1, \" El comentario es requerido \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AcercaDeComponent_div_24_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1, \" Debe tener un minimo de 30 caracteres. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AcercaDeComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, AcercaDeComponent_div_24_div_1_Template, 2, 0, \"div\", 24);\n    i0.ɵɵtemplate(2, AcercaDeComponent_div_24_div_2_Template, 2, 0, \"div\", 24);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.comentario == null ? null : ctx_r1.comentario.errors == null ? null : ctx_r1.comentario.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.comentario == null ? null : ctx_r1.comentario.errors == null ? null : ctx_r1.comentario.errors[\"minlength\"]);\n  }\n}\n\nexport let AcercaDeComponent = /*#__PURE__*/(() => {\n  class AcercaDeComponent {\n    constructor(servicioAcercaDe, login, miForm) {\n      this.servicioAcercaDe = servicioAcercaDe;\n      this.login = login;\n      this.miForm = miForm;\n      this.usuarioAutenticado = false;\n      this.form = this.miForm.group({\n        comentario: ['', [Validators.required, Validators.minLength(30)]]\n      });\n    }\n\n    get comentario() {\n      return this.form.get(\"comentario\");\n    }\n\n    ngOnInit() {\n      this.login.loginIn.subscribe(data => {\n        this.usuarioAutenticado = true;\n      });\n      this.login.loginOut.subscribe(data => {\n        this.usuarioAutenticado = false;\n      });\n      this.servicioAcercaDe.obtenerDatos(1).subscribe(data => {\n        console.log(data);\n        this.acercaDe = data;\n      });\n    }\n\n    guardarDatos() {\n      var _a;\n\n      if (this.form.valid) {\n        let comentario = (_a = this.form.get('comentario')) === null || _a === void 0 ? void 0 : _a.value;\n        let idPersona = 1;\n        let comentarioEditar = new AcercaDe(this.acercaDe.id, comentario, idPersona);\n        this.servicioAcercaDe.editarDatos(comentarioEditar).subscribe({\n          //modificar los datos del componente por los ingresados por el usuario\n          next: data => {\n            var _a;\n\n            this.acercaDe = comentarioEditar;\n            this.form.reset();\n            (_a = document.getElementById(\"cerrarModalAcercaDe\")) === null || _a === void 0 ? void 0 : _a.click();\n          },\n          error: error => {\n            alert('No se puedo actualizar el registro. Por favor intente nuevamente mas tarde');\n          }\n        });\n      } else {\n        alert('Hay errores');\n        this.form.markAllAsTouched();\n      }\n    }\n\n    mostrarDatosActuales() {\n      var _a;\n\n      (_a = this.form.get('comentario')) === null || _a === void 0 ? void 0 : _a.setValue(this.acercaDe.comentario);\n    }\n\n  }\n\n  AcercaDeComponent.ɵfac = function AcercaDeComponent_Factory(t) {\n    return new (t || AcercaDeComponent)(i0.ɵɵdirectiveInject(i1.AcercaDeService), i0.ɵɵdirectiveInject(i2.LoginService), i0.ɵɵdirectiveInject(i3.FormBuilder));\n  };\n\n  AcercaDeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AcercaDeComponent,\n    selectors: [[\"app-acerca-de\"]],\n    decls: 30,\n    vars: 4,\n    consts: [[1, \"contenido\", \"scroll\"], [1, \"row\"], [1, \"col-12\"], [\"id\", \"acercaDe\", 1, \"text-center\"], [1, \"col\"], [2, \"text-align\", \"center\"], [\"class\", \"myButton\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#editarAcercaDe\", 3, \"click\", 4, \"ngIf\"], [\"id\", \"editarAcercaDe\", \"tabindex\", \"-1\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\"], [3, \"formGroup\"], [1, \"mb-3\"], [\"for\", \"fullName\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"comentario\", \"formControlName\", \"comentario\", 1, \"form-control\"], [4, \"ngIf\"], [1, \"modal-footer\"], [\"type\", \"button\", \"id\", \"cerrarModalAcercaDe\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#editarAcercaDe\", 1, \"myButton\", 3, \"click\"], [1, \"fas\", \"fa-edit\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [1, \"text-danger\"]],\n    template: function AcercaDeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0);\n        i0.ɵɵelementStart(1, \"h1\");\n        i0.ɵɵtext(2, \"Acerca de\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 1);\n        i0.ɵɵelementStart(4, \"div\", 2);\n        i0.ɵɵelementStart(5, \"p\", 3);\n        i0.ɵɵtext(6);\n        i0.ɵɵelement(7, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 4);\n        i0.ɵɵelementStart(9, \"div\", 5);\n        i0.ɵɵtemplate(10, AcercaDeComponent_button_10_Template, 2, 0, \"button\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 7);\n        i0.ɵɵelementStart(12, \"div\", 8);\n        i0.ɵɵelementStart(13, \"div\", 9);\n        i0.ɵɵelementStart(14, \"div\", 10);\n        i0.ɵɵelementStart(15, \"h5\", 11);\n        i0.ɵɵtext(16, \"Modificar \\\"AcercaDe\\\"\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"button\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 13);\n        i0.ɵɵelementStart(19, \"form\", 14);\n        i0.ɵɵelementStart(20, \"div\", 15);\n        i0.ɵɵelementStart(21, \"label\", 16);\n        i0.ɵɵtext(22, \"Ingrese el nuevo texto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(23, \"input\", 17);\n        i0.ɵɵtemplate(24, AcercaDeComponent_div_24_Template, 3, 2, \"div\", 18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 19);\n        i0.ɵɵelementStart(26, \"button\", 20);\n        i0.ɵɵtext(27, \"Cerrar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"button\", 21);\n        i0.ɵɵlistener(\"click\", function AcercaDeComponent_Template_button_click_28_listener() {\n          return ctx.guardarDatos();\n        });\n        i0.ɵɵtext(29, \"Guardar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.acercaDe.comentario);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.usuarioAutenticado);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", (ctx.comentario == null ? null : ctx.comentario.invalid) && (ctx.comentario == null ? null : ctx.comentario.touched));\n      }\n    },\n    directives: [i4.NgIf, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlName],\n    styles: [\"\"]\n  });\n  return AcercaDeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}